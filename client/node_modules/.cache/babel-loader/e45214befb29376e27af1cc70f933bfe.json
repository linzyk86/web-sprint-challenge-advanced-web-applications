{"ast":null,"code":"var _jsxFileName = \"/Users/lindsaywhite/Desktop/Lambda/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js\";\nimport React, { useState } from \"react\";\n\nconst Login = () => {\n  const [credentials, setCredentials] = useState({\n    username: '',\n    password: ''\n  });\n\n  const handleChange = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  login = e => {\n    e.preventDefault(); // make a post request to the login endpoint on the server\n\n    axios.post('http://localhost:5000/api/login', this.state.credentials).then(res => {\n      console.log(res.data);\n      localStorage.setItem('token', res.data.payload); // redirect the user to the app's main logged in page\n\n      this.props.history.push('/protected');\n    }).catch(err => console.log({\n      err\n    }));\n  }; // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: this.login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    id: \"username\",\n    placeholder: \"Username\",\n    value: this.state.credentials.username,\n    onChange: this.handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"password\",\n    id: \"password\",\n    placeholder: \"Password\",\n    value: this.state.credentials.password,\n    onChange: this.handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Login\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/lindsaywhite/Desktop/Lambda/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","Login","credentials","setCredentials","username","password","handleChange","e","target","name","value","login","preventDefault","axios","post","state","then","res","console","log","data","localStorage","setItem","payload","props","history","push","catch","err"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCH,QAAQ,CAAC;AAC7CI,IAAAA,QAAQ,EAAC,EADoC;AAE7CC,IAAAA,QAAQ,EAAC;AAFoC,GAAD,CAA9C;;AAKA,QAAMC,YAAY,GAAGC,CAAC,IAAE;AACtBJ,IAAAA,cAAc,CAAC,EACb,GAAGD,WADU;AACE,OAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAD5B,KAAD,CAAd;AAGD,GAJD;;AAMAC,EAAAA,KAAK,GAAGJ,CAAC,IAAI;AACPA,IAAAA,CAAC,CAACK,cAAF,GADO,CAEP;;AACAC,IAAAA,KAAK,CACAC,IADL,CACU,iCADV,EAC6C,KAAKC,KAAL,CAAWb,WADxD,EAEKc,IAFL,CAEUC,GAAG,IAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,GAAG,CAACG,IAAJ,CAASG,OAAvC,EAFS,CAGT;;AACA,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACH,KAPL,EAQKC,KARL,CAQWC,GAAG,IAAIV,OAAO,CAACC,GAAR,CAAY;AAAES,MAAAA;AAAF,KAAZ,CARlB;AASH,GAZH,CAZkB,CAyBlB;AACA;;;AACA,SACU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,QAAQ,EAAI,KAAKjB,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,EAAE,EAAC,UAHP;AAII,IAAA,WAAW,EAAC,UAJhB;AAKI,IAAA,KAAK,EAAI,KAAKI,KAAL,CAAWb,WAAX,CAAuBE,QALpC;AAMI,IAAA,QAAQ,EAAK,KAAKE,YANtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EASI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,EAAE,EAAC,UAHP;AAII,IAAA,WAAW,EAAC,UAJhB;AAKI,IAAA,KAAK,EAAI,KAAKS,KAAL,CAAWb,WAAX,CAAuBG,QALpC;AAMI,IAAA,QAAQ,EAAK,KAAKC,YANtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,EAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAlBJ,CADJ,CADV;AAwBD,CAnDD;;AAqDA,eAAeL,KAAf","sourcesContent":["import React, {useState} from \"react\";\n\nconst Login = () => {\n  const [credentials, setCredentials] = useState({\n    username:'',\n    password:''\n  })\n  \n  const handleChange = e=>{\n    setCredentials({\n      ...credentials,[e.target.name]: e.target.value\n    })\n  }\n\n  login = e => {\n        e.preventDefault();\n        // make a post request to the login endpoint on the server\n        axios\n            .post('http://localhost:5000/api/login', this.state.credentials)\n            .then(res => {\n                console.log(res.data);\n                localStorage.setItem('token', res.data.payload);\n                // redirect the user to the app's main logged in page\n                this.props.history.push('/protected');\n            })\n            .catch(err => console.log({ err }));\n    };\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  return (\n            <div>\n                <form onSubmit = {this.login}>\n                    <input\n                        type='text'\n                        name='username'\n                        id='username'\n                        placeholder='Username'\n                        value = {this.state.credentials.username}\n                        onChange = { this.handleChange}\n                    />\n                    <input\n                        type='text'\n                        name='password'\n                        id='password'\n                        placeholder='Password'\n                        value = {this.state.credentials.password}\n                        onChange = { this.handleChange}\n\n                    />\n                    <button>Login</button>\n                </form>\n            </div>\n        );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}